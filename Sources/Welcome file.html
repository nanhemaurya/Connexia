<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li>
<ul>
<li><a href="#app">App</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#backgroundrefreshpermission">BackgroundRefreshPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#bluetoothpermission">BluetoothPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#camerapermission">CameraPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#contactspermission">ContactsPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#deviceinfo">DeviceInfo</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#deviceinfoprotocol">DeviceInfoProtocol</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#faceidpermission">FaceIDPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#locationalwayspermission">LocationAlwaysPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#locationwheninusepermission">LocationWhenInUsePermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#log">Log</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#loggerimpl">LoggerImpl</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#loggerprotocol">LoggerProtocol</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#microphonepermission">MicrophonePermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#motionpermission">MotionPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#notificationspermission">NotificationsPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permission">Permission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissionerror">PermissionError</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissionmanager">PermissionManager</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissionmanagerprotocol">PermissionManagerProtocol</a></li>
<li><a href="#permissionstatus">PermissionStatus</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissiontype">PermissionType</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissiontype-extension">PermissionType Extension</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissionable">Permissionable</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#permissionable-extension">Permissionable Extension</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#photospermission">PhotosPermission</a>
<ul>
<li></li>
</ul>
</li>
<li><a href="#speechrecognitionpermission">SpeechRecognitionPermission</a>
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h2 id="app">App</h2>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">final</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span>
</code></pre>
<h4 id="shared">shared</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token function">nonisolated</span><span class="token punctuation">(</span><span class="token keyword">unsafe</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">var</span> shared<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">App</span>
</code></pre>
</blockquote>
<h4 id="name">name</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
</code></pre>
</blockquote>
<h2 id="backgroundrefreshpermission">BackgroundRefreshPermission</h2>
<p>Handles background app refresh permission status checks (cannot request, only check).</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">BackgroundRefreshPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing background app refresh permissions<br>
by extending the <code>Permission</code> base class. Background refresh is a system-level setting<br>
that cannot be requested programmatically, only checked for current status.</p>
<h4 id="responsibilities">Responsibilities:</h4>
<ul>
<li>Checks background refresh permission status using UIApplication</li>
<li>Provides read-only access to background refresh state</li>
<li>Handles iOS version compatibility for background refresh status</li>
<li>No Info.plist key required for this permission type</li>
</ul>
<h4 id="usage-example">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> backgroundRefreshPermission <span class="token operator">=</span> <span class="token function">BackgroundRefreshPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> status <span class="token operator">=</span> backgroundRefreshPermission<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
    <span class="token comment">// Background refresh is available</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Background refresh is denied or restricted</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init">init</h4>
<p>Initializes a new background refresh permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of BackgroundRefreshPermission with the background refresh<br>
permission type. This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="status">status</h4>
<p>Returns the current background refresh permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method checks the current background refresh status using UIApplication’s<br>
backgroundRefreshStatus property. Background refresh is a system setting that<br>
cannot be requested programmatically.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current background refresh state</li>
</ul>
</blockquote>
<h4 id="onrequest">onRequest</h4>
<p>Returns the current background refresh permission status (cannot request, only check).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>Since background refresh cannot be requested programmatically, this method<br>
simply returns the current status without attempting to request permission.</p>
<ul>
<li>Parameter completion: A closure that is called with the current permission status.<br>
The closure receives a <code>Result</code> containing the current <code>PermissionStatus</code>.</li>
</ul>
</blockquote>
<h4 id="isrequiredusagedescriptionkey">isRequiredUsageDescriptionKey</h4>
<p>Indicates that a usage description key is not required for background refresh.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> isRequiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Background refresh is a system-level setting that doesn’t require an Info.plist<br>
usage description key since it cannot be requested programmatically.</p>
<ul>
<li>Returns: <code>false</code> indicating no Info.plist key is required</li>
</ul>
</blockquote>
<h2 id="bluetoothpermission">BluetoothPermission</h2>
<p>Handles Bluetooth permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">BluetoothPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span><span class="token punctuation">,</span>
@preconcurrency <span class="token builtin">CBCentralManagerDelegate</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing Bluetooth permissions<br>
by extending the <code>Permission</code> base class. It handles all Bluetooth-specific<br>
permission logic including status checking and permission requests using CoreBluetooth.</p>
<h4 id="responsibilities-1">Responsibilities:</h4>
<ul>
<li>Manages Bluetooth permission status using CoreBluetooth</li>
<li>Handles Bluetooth permission requests with delegate pattern</li>
<li>Provides Bluetooth-specific Info.plist key validation</li>
<li>Converts CBManagerState to PermissionStatus</li>
<li>Manages async permission state updates</li>
</ul>
<h4 id="usage-example-1">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> bluetoothPermission <span class="token operator">=</span> <span class="token function">BluetoothPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
bluetoothPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">switch</span> status <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span>
            <span class="token comment">// Bluetooth is powered on and authorized</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>poweredOff<span class="token punctuation">:</span>
            <span class="token comment">// Bluetooth is turned off</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span>
            <span class="token comment">// Bluetooth access denied</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token comment">// Handle other states</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-1">init</h4>
<p>Initializes a new Bluetooth permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of BluetoothPermission with the bluetooth permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for Bluetooth access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request Bluetooth permission. The value should explain why the app<br>
needs Bluetooth access.</p>
<ul>
<li>Returns: The Info.plist key “NSBluetoothAlwaysUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-1">status</h4>
<p>Returns the current Bluetooth permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current Bluetooth state using CoreBluetooth.<br>
Note: This method is deprecated and may return unknown status.<br>
Use the <code>request</code> method for accurate async status.</p>
<ul>
<li>Warning: Deprecated. Use <code>request</code> for async status.</li>
<li>Returns: A <code>PermissionStatus</code> value representing the current Bluetooth state</li>
</ul>
</blockquote>
<h4 id="onrequest-1">onRequest</h4>
<p>Requests Bluetooth permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the Bluetooth permission request using CoreBluetooth’s<br>
delegate pattern. It creates a central manager and waits for state updates<br>
to determine the final permission status.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h4 id="centralmanagerdidupdatestate">centralManagerDidUpdateState</h4>
<p>CBCentralManagerDelegate callback for state updates.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">centralManagerDidUpdateState</span><span class="token punctuation">(</span><span class="token number">_</span> central<span class="token punctuation">:</span> <span class="token builtin">CBCentralManager</span><span class="token punctuation">)</span>
</code></pre>
<p>This delegate method is called when the Bluetooth central manager’s state changes.<br>
It updates the temporary status and signals the dispatch group to complete<br>
the permission request.</p>
<ul>
<li>Parameter central: The central manager instance that updated its state.</li>
</ul>
</blockquote>
<h2 id="camerapermission">CameraPermission</h2>
<p>Handles camera permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">CameraPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing camera permissions<br>
by extending the <code>Permission</code> base class. It handles all camera-specific<br>
permission logic including status checking and permission requests.</p>
<h4 id="responsibilities-2">Responsibilities:</h4>
<ul>
<li>Manages camera permission status using AVFoundation</li>
<li>Handles camera permission requests with proper async/await support</li>
<li>Provides camera-specific Info.plist key validation</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-2">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> cameraPermission <span class="token operator">=</span> <span class="token function">CameraPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cameraPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Camera access granted, proceed with camera operations</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Handle denied/restricted status</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-2">init</h4>
<p>Initializes a new camera permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of CameraPermission with the camera permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-1">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for camera access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request camera permission. The value should explain why the app<br>
needs camera access.</p>
<ul>
<li>Returns: The Info.plist key “NSCameraUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-2">status</h4>
<p>Returns the current camera permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the system to determine the current authorization<br>
state of camera access using AVFoundation’s authorization status API.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current camera permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-2">onRequest</h4>
<p>Requests camera permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the camera permission request using AVFoundation’s<br>
async/await API. It presents the system permission dialog to the user<br>
and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="contactspermission">ContactsPermission</h2>
<p>Handles contacts permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">ContactsPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing contacts permissions<br>
by extending the <code>Permission</code> base class. It handles all contacts-specific<br>
permission logic including status checking and permission requests using Contacts framework.</p>
<h4 id="responsibilities-3">Responsibilities:</h4>
<ul>
<li>Manages contacts permission status using Contacts framework</li>
<li>Handles contacts permission requests with async/await support</li>
<li>Provides contacts-specific Info.plist key validation</li>
<li>Supports limited contacts access (iOS 14+)</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-3">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> contactsPermission <span class="token operator">=</span> <span class="token function">ContactsPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
contactsPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">switch</span> status <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span>
            <span class="token comment">// Full contacts access granted</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>limited<span class="token punctuation">:</span>
            <span class="token comment">// Limited contacts access granted (iOS 14+)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span>
            <span class="token comment">// Contacts access denied</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token comment">// Handle other states</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-3">init</h4>
<p>Initializes a new contacts permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of ContactsPermission with the contacts permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-2">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for contacts access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request contacts permission. The value should explain why the app<br>
needs contacts access.</p>
<ul>
<li>Returns: The Info.plist key “NSContactsUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-3">status</h4>
<p>Returns the current contacts permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current contacts authorization status using<br>
the Contacts framework. It supports all authorization states including<br>
limited access (iOS 14+).</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current contacts permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-3">onRequest</h4>
<p>Requests contacts permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the contacts permission request using the Contacts framework’s<br>
async/await API. It presents the system permission dialog to the user<br>
and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="deviceinfo">DeviceInfo</h2>
<p>Concrete implementation of DeviceInfoProtocol providing device information across Apple platforms.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeviceInfo</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">DeviceInfoProtocol</span><span class="token punctuation">,</span>
@unchecked <span class="token builtin">Sendable</span>
</code></pre>
<blockquote>
<p>This class implements the DeviceInfoProtocol to provide comprehensive device information<br>
for iOS, macOS, watchOS, visionOS, and tvOS platforms. It uses conditional compilation<br>
to provide platform-specific implementations while maintaining a unified interface.</p>
<h4 id="responsibilities-4">Responsibilities</h4>
<ul>
<li>Implements all DeviceInfoProtocol requirements</li>
<li>Provides platform-specific device information access</li>
<li>Handles conditional compilation for different platforms</li>
<li>Manages battery monitoring and device state</li>
<li>Reports hardware capabilities and system information</li>
</ul>
<h4 id="design-patterns">Design Patterns</h4>
<ul>
<li>Strategy Pattern: Different implementations for each platform</li>
<li>Template Method: Common interface with platform-specific details</li>
<li>Conditional Compilation: Platform-specific code paths</li>
<li>Unchecked Sendable: Manual concurrency safety management</li>
</ul>
<h4 id="usage-example-4">Usage Example</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> deviceInfo <span class="token operator">=</span> <span class="token function">DeviceInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// Basic device information</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Device: <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>model<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"OS: <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>systemName<span class="token delimiter variable">)</span></span> <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>systemVersion<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token comment">// Screen information</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> width <span class="token operator">=</span> deviceInfo<span class="token punctuation">.</span>screenWidth<span class="token punctuation">,</span> <span class="token keyword">let</span> height <span class="token operator">=</span> deviceInfo<span class="token punctuation">.</span>screenHeight <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Screen: <span class="token interpolation"><span class="token delimiter variable">\(</span>width<span class="token delimiter variable">)</span></span> x <span class="token interpolation"><span class="token delimiter variable">\(</span>height<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Battery information</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> level <span class="token operator">=</span> deviceInfo<span class="token punctuation">.</span>batteryLevel <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Battery: <span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">Int</span><span class="token punctuation">(</span>level  <span class="token number">100</span><span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>%"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="platform-support">Platform Support</h4>
<ul>
<li>iOS: Full feature support including battery, sensors, and accessibility</li>
<li>macOS: Limited feature support (no battery, limited sensors)</li>
<li>watchOS: Basic device information only</li>
<li>visionOS: Stub implementation for future expansion</li>
<li>tvOS: iOS-based implementation with TV-specific adaptations</li>
</ul>
</blockquote>
<h4 id="systemname">systemName</h4>
<p>The name of the operating system.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> systemName<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Operating system name (e.g., “iOS”, “macOS”, “watchOS”)</p>
</blockquote>
<h4 id="systemversion">systemVersion</h4>
<p>The version of the operating system.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> systemVersion<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Operating system version string (e.g., “17.0”)</p>
</blockquote>
<h4 id="model">model</h4>
<p>The device model identifier.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device model string (e.g., “iPhone”, “iPad”, “Mac”)</p>
</blockquote>
<h4 id="localizedmodel">localizedModel</h4>
<p>The localized name of the device model.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> localizedModel<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Localized model name, or nil if not available</p>
</blockquote>
<h4 id="name-1">name</h4>
<p>The user-assigned name of the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device name, or nil if not available</p>
</blockquote>
<h4 id="identifierforvendor">identifierForVendor</h4>
<p>The unique identifier for the vendor.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> identifierForVendor<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Vendor identifier UUID string, or nil if not available</p>
</blockquote>
<h4 id="issimulator">isSimulator</h4>
<p>Indicates whether the app is running in the simulator.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isSimulator<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running in simulator, false if on device</p>
</blockquote>
<h4 id="devicetype">deviceType</h4>
<p>The type of device (e.g., iPhone, iPad, Mac, Apple Watch, Apple TV, Vision Pro).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> deviceType<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device type string</p>
</blockquote>
<h4 id="screenwidth">screenWidth</h4>
<p>The width of the screen in points.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> screenWidth<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen width in points, or nil if not available</p>
</blockquote>
<h4 id="screenheight">screenHeight</h4>
<p>The height of the screen in points.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> screenHeight<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen height in points, or nil if not available</p>
</blockquote>
<h4 id="screenscale">screenScale</h4>
<p>The scale factor of the screen.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> screenScale<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen scale factor, or nil if not available</p>
</blockquote>
<h4 id="nativebounds">nativeBounds</h4>
<p>The native bounds of the screen in pixels.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> nativeBounds<span class="token punctuation">:</span> <span class="token builtin">CGRect</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Native screen bounds, or nil if not available</p>
</blockquote>
<h4 id="nativescale">nativeScale</h4>
<p>The native scale factor of the screen.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> nativeScale<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Native screen scale factor, or nil if not available</p>
</blockquote>
<h4 id="batterylevel">batteryLevel</h4>
<p>The current battery level as a percentage.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> batteryLevel<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Battery level between 0.0 and 1.0, or nil if not available</p>
</blockquote>
<h4 id="batterystate">batteryState</h4>
<p>The current battery state.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> batteryState<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Battery state string, or nil if not available</p>
</blockquote>
<h4 id="isbatterymonitoringenabled">isBatteryMonitoringEnabled</h4>
<p>Indicates whether battery monitoring is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isBatteryMonitoringEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span>
</code></pre>
<p>@return True if battery monitoring is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="orientation">orientation</h4>
<p>The current device orientation.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> orientation<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device orientation string, or nil if not available</p>
</blockquote>
<h4 id="userinterfaceidiom">userInterfaceIdiom</h4>
<p>The user interface idiom of the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> userInterfaceIdiom<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return User interface idiom string, or nil if not available</p>
</blockquote>
<h4 id="architecture">architecture</h4>
<p>The device architecture.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> architecture<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Architecture string (e.g., “arm64”, “x86_64”), or nil if not available</p>
</blockquote>
<h4 id="isjailbroken">isJailbroken</h4>
<p>Indicates whether the device is jailbroken.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isJailbroken<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if jailbroken, false if not, or nil if not available</p>
</blockquote>
<h4 id="islowpowermodeenabled">isLowPowerModeEnabled</h4>
<p>Indicates whether low power mode is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isLowPowerModeEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if low power mode is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="preferredlanguages">preferredLanguages</h4>
<p>The user’s preferred languages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> preferredLanguages<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Array of preferred language codes</p>
</blockquote>
<h4 id="regioncode">regionCode</h4>
<p>The current region code.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> regionCode<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Region code string, or nil if not available</p>
</blockquote>
<h4 id="timezone">timeZone</h4>
<p>The current time zone identifier.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> timeZone<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Time zone identifier string, or nil if not available</p>
</blockquote>
<h4 id="deviceidentifier">deviceIdentifier</h4>
<p>The device identifier (e.g., iPhone16,2).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> deviceIdentifier<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device identifier string, or nil if not available</p>
</blockquote>
<h4 id="processorcount">processorCount</h4>
<p>Common properties available across all platforms.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> processorCount<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>These properties use ProcessInfo which is available on all Apple platforms<br>
and provide consistent system information regardless of the specific platform.</p>
</blockquote>
<h4 id="physicalmemory">physicalMemory</h4>
<p>The total physical memory in bytes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> physicalMemory<span class="token punctuation">:</span> <span class="token builtin">UInt64</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Total physical memory in bytes</p>
</blockquote>
<h4 id="ismultitaskingsupported">isMultitaskingSupported</h4>
<p>Indicates whether the device supports multitasking.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isMultitaskingSupported<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Returns true if the device supports background execution and app switching.<br>
Only available on iOS devices, returns nil on other platforms.<br>
@return Boolean indicating multitasking support, or nil if not available</p>
</blockquote>
<h4 id="appversion">appVersion</h4>
<p>Application and operating system version information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> appVersion<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides access to app version, build number, and OS build information<br>
from the app bundle and system information.<br>
The app’s version string from the bundle.<br>
@return App version string (e.g., “1.0.0”), or nil if not available</p>
</blockquote>
<h4 id="appbuildnumber">appBuildNumber</h4>
<p>The app’s build number from the bundle.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> appBuildNumber<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return App build number (e.g., “123”), or nil if not available</p>
</blockquote>
<h4 id="osbuildnumber">osBuildNumber</h4>
<p>The operating system build number.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> osBuildNumber<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return OS build number string, or nil if not available</p>
</blockquote>
<h4 id="isvoiceoverrunning">isVoiceOverRunning</h4>
<p>Locale and accessibility settings information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isVoiceOverRunning<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides access to user accessibility preferences and locale settings<br>
that affect the app’s behavior and appearance.<br>
Indicates whether VoiceOver is currently running.<br>
@return True if VoiceOver is active, false if not, or nil if not available</p>
</blockquote>
<h4 id="isreducemotionenabled">isReduceMotionEnabled</h4>
<p>Indicates whether the user has enabled reduced motion.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isReduceMotionEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if reduced motion is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isdarkmodeenabled">isDarkModeEnabled</h4>
<p>Indicates whether dark mode is currently enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isDarkModeEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if dark mode is active, false if light mode, or nil if not available</p>
</blockquote>
<h4 id="hascamera">hasCamera</h4>
<p>Device sensors and peripheral capabilities.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about available hardware sensors and peripherals<br>
that can be used by the application.<br>
Indicates whether the device has a camera.<br>
@return True if camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="screenbrightness">screenBrightness</h4>
<p>Screen-related information and settings.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> screenBrightness<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides access to screen properties and user preferences<br>
that affect the display behavior.<br>
The current screen brightness level.<br>
@return Screen brightness as a float between 0.0 and 1.0, or nil if not available</p>
</blockquote>
<h4 id="istestflight">isTestFlight</h4>
<p>App environment and distribution information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isTestFlight<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about how the app was distributed and<br>
the current execution environment.<br>
Indicates whether the app is running from TestFlight.<br>
@return True if running from TestFlight, false otherwise</p>
</blockquote>
<h4 id="isappstore">isAppStore</h4>
<p>Indicates whether the app is running from the App Store.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isAppStore<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running from App Store, false otherwise</p>
</blockquote>
<h4 id="totaldiskspace">totalDiskSpace</h4>
<p>Device storage information and capacity.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> totalDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about the device’s storage capacity,<br>
available space, and used space.<br>
The total disk space available on the device.<br>
@return Total disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="freediskspace">freeDiskSpace</h4>
<p>The free disk space available on the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> freeDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Free disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="useddiskspace">usedDiskSpace</h4>
<p>The used disk space on the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> usedDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Calculated as total disk space minus free disk space.<br>
@return Used disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="ipaddress">ipAddress</h4>
<p>Network connectivity and configuration information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> ipAddress<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about the device’s network status,<br>
IP address, VPN connection, and WiFi details.<br>
The device’s current IP address.<br>
Returns the IPv4 address of the primary network interface (en0).<br>
This is a best-effort implementation that may not work in all scenarios.<br>
@return IP address string, or nil if not available</p>
</blockquote>
<h4 id="isvpnconnected">isVPNConnected</h4>
<p>Indicates whether a VPN connection is active.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isVPNConnected<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Checks for the presence of utun interfaces which typically indicate<br>
VPN connections. This is a best-effort implementation.<br>
@return True if VPN is connected, false if not, or nil if not available</p>
</blockquote>
<h4 id="wifissid">wifiSSID</h4>
<p>The current WiFi network SSID.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> wifiSSID<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Requires the “Access WiFi Information” capability in the app.<br>
Only available on iOS devices.<br>
@return WiFi SSID string, or nil if not available</p>
</blockquote>
<h4 id="isdevicepasscodeset">isDevicePasscodeSet</h4>
<p>Device security and encryption information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isDevicePasscodeSet<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about device security settings and<br>
encryption status.<br>
Indicates whether a device passcode is set.<br>
Uses LocalAuthentication framework to check if the device<br>
has a passcode configured.<br>
@return True if passcode is set, false if not, or nil if not available</p>
</blockquote>
<h4 id="isdeviceencrypted">isDeviceEncrypted</h4>
<p>Indicates whether the device is encrypted.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isDeviceEncrypted<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>On iOS devices, encryption is enabled when a passcode is set.<br>
@return True if device is encrypted, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasbarometer">hasBarometer</h4>
<p>Device sensor capabilities and availability.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasBarometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about available hardware sensors<br>
using the CoreMotion framework.<br>
Indicates whether the device has a barometer.<br>
@return True if barometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasgyroscope">hasGyroscope</h4>
<p>Indicates whether the device has a gyroscope.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasGyroscope<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if gyroscope is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasaccelerometer">hasAccelerometer</h4>
<p>Indicates whether the device has an accelerometer.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasAccelerometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if accelerometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasmagnetometer">hasMagnetometer</h4>
<p>Indicates whether the device has a magnetometer.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasMagnetometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if magnetometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="isbluetoothenabled">isBluetoothEnabled</h4>
<p>Bluetooth connectivity status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isBluetoothEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about Bluetooth availability and state<br>
using the CoreBluetooth framework.<br>
Indicates whether Bluetooth is enabled and available.<br>
@return True if Bluetooth is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasnfc">hasNFC</h4>
<p>NFC (Near Field Communication) capabilities.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasNFC<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about NFC availability and functionality<br>
using the CoreNFC framework.<br>
Indicates whether the device supports NFC reading.<br>
@return True if NFC is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasfrontcamera">hasFrontCamera</h4>
<p>Advanced camera capabilities and configuration.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasFrontCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides detailed information about available cameras<br>
using the AVFoundation framework.<br>
Indicates whether the device has a front-facing camera.<br>
@return True if front camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasrearcamera">hasRearCamera</h4>
<p>Indicates whether the device has a rear-facing camera.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> hasRearCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if rear camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="isappextension">isAppExtension</h4>
<p>App execution environment and context.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isAppExtension<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about how the app is running and<br>
its execution context.<br>
Indicates whether the app is running as an extension.<br>
@return True if running as an app extension, false if running as main app</p>
</blockquote>
<h4 id="isswitchcontrolrunning">isSwitchControlRunning</h4>
<p>Additional accessibility settings and preferences.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isSwitchControlRunning<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about various accessibility features<br>
and user preferences that affect the app’s behavior.<br>
Indicates whether Switch Control is currently running.<br>
@return True if Switch Control is active, false if not, or nil if not available</p>
</blockquote>
<h4 id="isboldtextenabled">isBoldTextEnabled</h4>
<p>Indicates whether bold text is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isBoldTextEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if bold text is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isgrayscaleenabled">isGrayscaleEnabled</h4>
<p>Indicates whether grayscale is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isGrayscaleEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if grayscale is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isinvertcolorsenabled">isInvertColorsEnabled</h4>
<p>Indicates whether invert colors is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isInvertColorsEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if invert colors is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="carriername">carrierName</h4>
<p>Cellular network information and capabilities.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> carrierName<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Provides information about cellular network connectivity<br>
using the CoreTelephony framework.<br>
The name of the current cellular carrier.<br>
@return Carrier name string, or nil if not available</p>
</blockquote>
<h4 id="currentradioaccesstechnology">currentRadioAccessTechnology</h4>
<p>The current radio access technology being used.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> currentRadioAccessTechnology<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Radio access technology string, or nil if not available</p>
</blockquote>
<h2 id="deviceinfoprotocol">DeviceInfoProtocol</h2>
<p>Protocol defining comprehensive device information capabilities for Apple platforms.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> @preconcurrency <span class="token keyword">public</span> protocol <span class="token builtin">DeviceInfoProtocol</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span>
</code></pre>
<blockquote>
<p>This protocol provides a unified interface for accessing device-specific information<br>
across all Apple platforms including iOS, macOS, watchOS, visionOS, and tvOS. It<br>
abstracts platform-specific implementations while maintaining a consistent API<br>
for device information retrieval.</p>
<h4 id="responsibilities-5">Responsibilities</h4>
<ul>
<li>Provides access to system information (OS name, version, model)</li>
<li>Exposes device capabilities (screen, battery, sensors)</li>
<li>Reports device state (orientation, accessibility settings)</li>
<li>Supplies network and security information</li>
<li>Offers storage and performance metrics</li>
</ul>
<h4 id="design-patterns-1">Design Patterns</h4>
<ul>
<li>Protocol-Oriented Programming: Defines a contract for device information</li>
<li>Platform Abstraction: Hides platform-specific implementation details</li>
<li>Comprehensive Coverage: Covers all major device information categories</li>
</ul>
<h4 id="usage-example-5">Usage Example</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> deviceInfo <span class="token operator">=</span> <span class="token function">DeviceInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Device: <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>model<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"OS: <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>systemName<span class="token delimiter variable">)</span></span> <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>systemVersion<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Screen: <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>screenWidth <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">0</span><span class="token delimiter variable">)</span></span> x <span class="token interpolation"><span class="token delimiter variable">\(</span>deviceInfo<span class="token punctuation">.</span>screenHeight <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">0</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="key-features">Key Features</h4>
<ul>
<li>Cross-platform compatibility</li>
<li>Comprehensive device information coverage</li>
<li>Optional properties for unavailable features</li>
<li>Thread-safe access with @MainActor</li>
<li>Concurrency support with @preconcurrency</li>
</ul>
</blockquote>
<h4 id="systemname-1">systemName</h4>
<p>The name of the operating system.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> systemName<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Operating system name (e.g., “iOS”, “macOS”, “watchOS”)</p>
</blockquote>
<h4 id="systemversion-1">systemVersion</h4>
<p>The version of the operating system.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> systemVersion<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Operating system version string (e.g., “17.0”)</p>
</blockquote>
<h4 id="model-1">model</h4>
<p>The device model identifier.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device model string (e.g., “iPhone”, “iPad”, “Mac”)</p>
</blockquote>
<h4 id="localizedmodel-1">localizedModel</h4>
<p>The localized name of the device model.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> localizedModel<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Localized model name, or nil if not available</p>
</blockquote>
<h4 id="name-2">name</h4>
<p>The user-assigned name of the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device name, or nil if not available</p>
</blockquote>
<h4 id="identifierforvendor-1">identifierForVendor</h4>
<p>The unique identifier for the vendor.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> identifierForVendor<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Vendor identifier UUID string, or nil if not available</p>
</blockquote>
<h4 id="issimulator-1">isSimulator</h4>
<p>Indicates whether the app is running in the simulator.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isSimulator<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running in simulator, false if on device</p>
</blockquote>
<h4 id="devicetype-1">deviceType</h4>
<p>The type of device (e.g., iPhone, iPad, Mac, Apple Watch, Apple TV, Vision Pro).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> deviceType<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device type string</p>
</blockquote>
<h4 id="screenwidth-1">screenWidth</h4>
<p>The width of the screen in points.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> screenWidth<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen width in points, or nil if not available</p>
</blockquote>
<h4 id="screenheight-1">screenHeight</h4>
<p>The height of the screen in points.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> screenHeight<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen height in points, or nil if not available</p>
</blockquote>
<h4 id="screenscale-1">screenScale</h4>
<p>The scale factor of the screen.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> screenScale<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen scale factor, or nil if not available</p>
</blockquote>
<h4 id="nativebounds-1">nativeBounds</h4>
<p>The native bounds of the screen in pixels.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> nativeBounds<span class="token punctuation">:</span> <span class="token builtin">CGRect</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Native screen bounds, or nil if not available</p>
</blockquote>
<h4 id="nativescale-1">nativeScale</h4>
<p>The native scale factor of the screen.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> nativeScale<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Native screen scale factor, or nil if not available</p>
</blockquote>
<h4 id="batterylevel-1">batteryLevel</h4>
<p>The current battery level as a percentage.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> batteryLevel<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Battery level between 0.0 and 1.0, or nil if not available</p>
</blockquote>
<h4 id="batterystate-1">batteryState</h4>
<p>The current battery state.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> batteryState<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Battery state string, or nil if not available</p>
</blockquote>
<h4 id="isbatterymonitoringenabled-1">isBatteryMonitoringEnabled</h4>
<p>Indicates whether battery monitoring is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isBatteryMonitoringEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if battery monitoring is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="orientation-1">orientation</h4>
<p>The current device orientation.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> orientation<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device orientation string, or nil if not available</p>
</blockquote>
<h4 id="userinterfaceidiom-1">userInterfaceIdiom</h4>
<p>The user interface idiom of the device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> userInterfaceIdiom<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return User interface idiom string, or nil if not available</p>
</blockquote>
<h4 id="architecture-1">architecture</h4>
<p>The device architecture.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> architecture<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Architecture string (e.g., “arm64”, “x86_64”), or nil if not available</p>
</blockquote>
<h4 id="isjailbroken-1">isJailbroken</h4>
<p>Indicates whether the device is jailbroken.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isJailbroken<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if jailbroken, false if not, or nil if not available</p>
</blockquote>
<h4 id="islowpowermodeenabled-1">isLowPowerModeEnabled</h4>
<p>Indicates whether low power mode is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isLowPowerModeEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if low power mode is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="preferredlanguages-1">preferredLanguages</h4>
<p>The user’s preferred languages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> preferredLanguages<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Array of preferred language codes</p>
</blockquote>
<h4 id="regioncode-1">regionCode</h4>
<p>The current region code.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> regionCode<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Region code string, or nil if not available</p>
</blockquote>
<h4 id="timezone-1">timeZone</h4>
<p>The current time zone identifier.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> timeZone<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Time zone identifier string, or nil if not available</p>
</blockquote>
<h4 id="deviceidentifier-1">deviceIdentifier</h4>
<p>The device identifier (e.g., iPhone16,2).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> deviceIdentifier<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Device identifier string, or nil if not available</p>
</blockquote>
<h4 id="processorcount-1">processorCount</h4>
<p>The number of processor cores.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> processorCount<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Number of processor cores</p>
</blockquote>
<h4 id="physicalmemory-1">physicalMemory</h4>
<p>The total physical memory in bytes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> physicalMemory<span class="token punctuation">:</span> <span class="token builtin">UInt64</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Total physical memory in bytes</p>
</blockquote>
<h4 id="ismultitaskingsupported-1">isMultitaskingSupported</h4>
<p>Indicates whether the device supports multitasking.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isMultitaskingSupported<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if multitasking is supported, false if not, or nil if not available</p>
</blockquote>
<h4 id="appversion-1">appVersion</h4>
<p>The app’s version string.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> appVersion<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return App version string, or nil if not available</p>
</blockquote>
<h4 id="appbuildnumber-1">appBuildNumber</h4>
<p>The app’s build number.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> appBuildNumber<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return App build number string, or nil if not available</p>
</blockquote>
<h4 id="osbuildnumber-1">osBuildNumber</h4>
<p>The operating system build number.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> osBuildNumber<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return OS build number string, or nil if not available</p>
</blockquote>
<h4 id="isvoiceoverrunning-1">isVoiceOverRunning</h4>
<p>Indicates whether VoiceOver is running.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isVoiceOverRunning<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if VoiceOver is running, false if not, or nil if not available</p>
</blockquote>
<h4 id="isreducemotionenabled-1">isReduceMotionEnabled</h4>
<p>Indicates whether reduced motion is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isReduceMotionEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if reduced motion is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isdarkmodeenabled-1">isDarkModeEnabled</h4>
<p>Indicates whether dark mode is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isDarkModeEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if dark mode is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="hascamera-1">hasCamera</h4>
<p>Indicates whether the device has a camera.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="screenbrightness-1">screenBrightness</h4>
<p>The current screen brightness level.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> screenBrightness<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Screen brightness between 0.0 and 1.0, or nil if not available</p>
</blockquote>
<h4 id="istestflight-1">isTestFlight</h4>
<p>Indicates whether the app is running from TestFlight.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isTestFlight<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running from TestFlight, false otherwise</p>
</blockquote>
<h4 id="isappstore-1">isAppStore</h4>
<p>Indicates whether the app is running from the App Store.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isAppStore<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running from App Store, false otherwise</p>
</blockquote>
<h4 id="totaldiskspace-1">totalDiskSpace</h4>
<p>The total disk space in bytes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> totalDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Total disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="freediskspace-1">freeDiskSpace</h4>
<p>The free disk space in bytes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> freeDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Free disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="useddiskspace-1">usedDiskSpace</h4>
<p>The used disk space in bytes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> usedDiskSpace<span class="token punctuation">:</span> <span class="token builtin">UInt64</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Used disk space in bytes, or nil if not available</p>
</blockquote>
<h4 id="ipaddress-1">ipAddress</h4>
<p>The device’s IP address.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> ipAddress<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return IP address string, or nil if not available</p>
</blockquote>
<h4 id="isvpnconnected-1">isVPNConnected</h4>
<p>Indicates whether a VPN connection is active.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isVPNConnected<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if VPN is connected, false if not, or nil if not available</p>
</blockquote>
<h4 id="wifissid-1">wifiSSID</h4>
<p>The current WiFi network SSID.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> wifiSSID<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return WiFi SSID string, or nil if not available</p>
</blockquote>
<h4 id="isdevicepasscodeset-1">isDevicePasscodeSet</h4>
<p>Indicates whether a device passcode is set.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isDevicePasscodeSet<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if passcode is set, false if not, or nil if not available</p>
</blockquote>
<h4 id="isdeviceencrypted-1">isDeviceEncrypted</h4>
<p>Indicates whether the device is encrypted.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isDeviceEncrypted<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if device is encrypted, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasbarometer-1">hasBarometer</h4>
<p>Indicates whether the device has a barometer.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasBarometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if barometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasgyroscope-1">hasGyroscope</h4>
<p>Indicates whether the device has a gyroscope.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasGyroscope<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if gyroscope is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasaccelerometer-1">hasAccelerometer</h4>
<p>Indicates whether the device has an accelerometer.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasAccelerometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if accelerometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasmagnetometer-1">hasMagnetometer</h4>
<p>Indicates whether the device has a magnetometer.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasMagnetometer<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if magnetometer is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="isbluetoothenabled-1">isBluetoothEnabled</h4>
<p>Indicates whether Bluetooth is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isBluetoothEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if Bluetooth is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasnfc-1">hasNFC</h4>
<p>Indicates whether the device supports NFC.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasNFC<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if NFC is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasfrontcamera-1">hasFrontCamera</h4>
<p>Indicates whether the device has a front camera.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasFrontCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if front camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="hasrearcamera-1">hasRearCamera</h4>
<p>Indicates whether the device has a rear camera.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> hasRearCamera<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if rear camera is available, false if not, or nil if not available</p>
</blockquote>
<h4 id="isappextension-1">isAppExtension</h4>
<p>Indicates whether the app is running as an extension.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isAppExtension<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if running as an app extension, false if running as main app</p>
</blockquote>
<h4 id="isswitchcontrolrunning-1">isSwitchControlRunning</h4>
<p>Indicates whether Switch Control is running.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isSwitchControlRunning<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if Switch Control is running, false if not, or nil if not available</p>
</blockquote>
<h4 id="isboldtextenabled-1">isBoldTextEnabled</h4>
<p>Indicates whether bold text is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isBoldTextEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if bold text is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isgrayscaleenabled-1">isGrayscaleEnabled</h4>
<p>Indicates whether grayscale is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isGrayscaleEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if grayscale is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="isinvertcolorsenabled-1">isInvertColorsEnabled</h4>
<p>Indicates whether invert colors is enabled.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isInvertColorsEnabled<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return True if invert colors is enabled, false if not, or nil if not available</p>
</blockquote>
<h4 id="carriername-1">carrierName</h4>
<p>The name of the current cellular carrier.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> carrierName<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Carrier name string, or nil if not available</p>
</blockquote>
<h4 id="currentradioaccesstechnology-1">currentRadioAccessTechnology</h4>
<p>The current radio access technology.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> currentRadioAccessTechnology<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return Radio access technology string, or nil if not available</p>
</blockquote>
<h2 id="faceidpermission">FaceIDPermission</h2>
<p>Handles Face ID permission status checks (cannot request directly, only check).</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">FaceIDPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing Face ID permissions<br>
by extending the <code>Permission</code> base class. Face ID permissions are system-level<br>
settings that cannot be requested programmatically, only checked for current status.</p>
<h4 id="responsibilities-6">Responsibilities:</h4>
<ul>
<li>Checks Face ID availability using LocalAuthentication framework</li>
<li>Provides read-only access to Face ID biometric state</li>
<li>Handles platform-specific Face ID detection</li>
<li>No programmatic permission requests (user must change in settings)</li>
</ul>
<h4 id="usage-example-6">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> faceIDPermission <span class="token operator">=</span> <span class="token function">FaceIDPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> status <span class="token operator">=</span> faceIDPermission<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
    <span class="token comment">// Face ID is available and authorized</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Face ID is not available or not authorized</span>
    <span class="token comment">// User must change Face ID settings manually</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-4">init</h4>
<p>Initializes a new Face ID permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of FaceIDPermission with the faceID permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-3">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for Face ID access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file for Face ID usage. The value should explain why the app needs Face ID access.</p>
<ul>
<li>Returns: The Info.plist key “NSFaceIDUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-4">status</h4>
<p>Returns the current Face ID permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method checks the current Face ID availability using the LocalAuthentication<br>
framework. It determines if Face ID is available and properly configured<br>
on the device.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current Face ID state</li>
</ul>
</blockquote>
<h4 id="onrequest-4">onRequest</h4>
<p>Returns the current Face ID permission status (cannot request, user must change in settings).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>Since Face ID permissions cannot be requested programmatically, this method<br>
simply returns the current status without attempting to request permission.<br>
Users must change Face ID settings manually in the device settings.</p>
<ul>
<li>Parameter completion: A closure that is called with the current permission status.<br>
The closure receives a <code>Result</code> containing the current <code>PermissionStatus</code>.</li>
</ul>
</blockquote>
<h2 id="locationalwayspermission">LocationAlwaysPermission</h2>
<p>Handles “Always” location permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">LocationAlwaysPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span><span class="token punctuation">,</span>
@preconcurrency <span class="token builtin">CLLocationManagerDelegate</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing “Always” location permissions<br>
by extending the <code>Permission</code> base class. It handles all location-specific permission<br>
logic for continuous location access using CoreLocation framework.</p>
<h4 id="responsibilities-7">Responsibilities:</h4>
<ul>
<li>Manages “Always” location permission status using CoreLocation</li>
<li>Handles location permission requests with delegate pattern</li>
<li>Provides location-specific Info.plist key validation</li>
<li>Supports iOS version compatibility for authorization status</li>
<li>Manages async permission state updates</li>
</ul>
<h4 id="usage-example-7">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> locationAlwaysPermission <span class="token operator">=</span> <span class="token function">LocationAlwaysPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
locationAlwaysPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">switch</span> status <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span>
            <span class="token comment">// Always location access granted</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span>
            <span class="token comment">// Location access denied or only "When In Use" granted</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token comment">// Handle other states</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-5">init</h4>
<p>Initializes a new “Always” location permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of LocationAlwaysPermission with the locationAlways permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-4">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for always-on location access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request “Always” location permission. The value should explain why the app<br>
needs continuous location access.</p>
<ul>
<li>Returns: The Info.plist key “NSLocationAlwaysAndWhenInUseUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-5">status</h4>
<p>Returns the current “Always” location permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current location authorization status using CoreLocation.<br>
It handles iOS version compatibility and treats “When In Use” authorization<br>
as denied for “Always” permission purposes.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current “Always” location state</li>
</ul>
</blockquote>
<h4 id="onrequest-5">onRequest</h4>
<p>Requests “Always” location permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the “Always” location permission request using CoreLocation’s<br>
delegate pattern. It requests continuous location access and waits for<br>
authorization status changes.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h4 id="locationmanager">locationManager</h4>
<p>CLLocationManagerDelegate callback for authorization status changes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">locationManager</span><span class="token punctuation">(</span><span class="token number">_</span> manager<span class="token punctuation">:</span> <span class="token builtin">CLLocationManager</span><span class="token punctuation">,</span>
didChangeAuthorization status<span class="token punctuation">:</span> <span class="token builtin">CLAuthorizationStatus</span><span class="token punctuation">)</span>
</code></pre>
<p>This delegate method is called when the location manager’s authorization status changes.<br>
It signals the dispatch group to complete the permission request when the status<br>
is no longer “not determined”.</p>
<ul>
<li>Parameters:</li>
<li>manager: The location manager instance that updated its authorization status.</li>
<li>status: The new authorization status from CoreLocation.</li>
</ul>
</blockquote>
<h2 id="locationwheninusepermission">LocationWhenInUsePermission</h2>
<p>Handles “When In Use” location permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">LocationWhenInUsePermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span><span class="token punctuation">,</span>
@preconcurrency <span class="token builtin">CLLocationManagerDelegate</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing “When In Use” location permissions<br>
by extending the <code>Permission</code> base class. It handles all location-specific permission<br>
logic for location access while the app is in use using CoreLocation framework.</p>
<h4 id="responsibilities-8">Responsibilities:</h4>
<ul>
<li>Manages “When In Use” location permission status using CoreLocation</li>
<li>Handles location permission requests with delegate pattern</li>
<li>Provides location-specific Info.plist key validation</li>
<li>Supports iOS version compatibility for authorization status</li>
<li>Manages async permission state updates</li>
</ul>
<h4 id="usage-example-8">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> locationWhenInUsePermission <span class="token operator">=</span> <span class="token function">LocationWhenInUsePermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
locationWhenInUsePermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">switch</span> status <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span>
            <span class="token comment">// When In Use location access granted</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span>
            <span class="token comment">// Location access denied</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token comment">// Handle other states</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-6">init</h4>
<p>Initializes a new “When In Use” location permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of LocationWhenInUsePermission with the locationWhenInUse permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-5">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for in-use location access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request “When In Use” location permission. The value should explain why the app<br>
needs location access while in use.</p>
<ul>
<li>Returns: The Info.plist key “NSLocationWhenInUseUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-6">status</h4>
<p>Returns the current “When In Use” location permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current location authorization status using CoreLocation.<br>
It handles iOS version compatibility and treats “Always” authorization<br>
as authorized for “When In Use” permission purposes.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current “When In Use” location state</li>
</ul>
</blockquote>
<h4 id="onrequest-6">onRequest</h4>
<p>Requests “When In Use” location permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the “When In Use” location permission request using CoreLocation’s<br>
delegate pattern. It requests location access while the app is in use and waits for<br>
authorization status changes.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h4 id="locationmanager-1">locationManager</h4>
<p>CLLocationManagerDelegate callback for authorization status changes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">locationManager</span><span class="token punctuation">(</span><span class="token number">_</span> manager<span class="token punctuation">:</span> <span class="token builtin">CLLocationManager</span><span class="token punctuation">,</span>
didChangeAuthorization status<span class="token punctuation">:</span> <span class="token builtin">CLAuthorizationStatus</span><span class="token punctuation">)</span>
</code></pre>
<p>This delegate method is called when the location manager’s authorization status changes.<br>
It signals the dispatch group to complete the permission request when the status<br>
is no longer “not determined”.</p>
<ul>
<li>Parameters:</li>
<li>manager: The location manager instance that updated its authorization status.</li>
<li>status: The new authorization status from CoreLocation.</li>
</ul>
</blockquote>
<h2 id="log">Log</h2>
<p>Log is a high-level, thread-safe logging facade for the application, conforming to LoggerProtocol and providing</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">final</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Log</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">LoggerProtocol</span><span class="token punctuation">,</span> @unchecked <span class="token builtin">Sendable</span>
</code></pre>
<blockquote>
<p>a unified interface for logging messages at various severity levels. It acts as a wrapper around a concrete logger<br>
implementation (such as LoggerImpl), abstracting away platform-specific details and providing a consistent API for<br>
logging throughout the codebase.<br>
This class supports multiple initializers for different logging contexts, including default, subsystem/category-based,<br>
and OSLog-based logging. It automatically selects the appropriate logger implementation based on the iOS version,<br>
and falls back to standard print statements in debug mode for platforms where the Unified Logging System is unavailable.<br>
Log provides methods for logging at all standard levels: trace, debug, info, notice, warning, error, critical, and fault.<br>
Each method is conditionally compiled for debug builds, ensuring that logging does not impact performance in release builds.</p>
<h4 id="responsibilities-9">Responsibilities:</h4>
<ul>
<li>Provide a unified logging interface across the application</li>
<li>Handle platform-specific logging implementations</li>
<li>Support multiple logging contexts and configurations</li>
<li>Ensure thread-safe logging operations</li>
<li>Manage conditional compilation for debug/release builds</li>
</ul>
<h4 id="usage-example-9">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> log <span class="token operator">=</span> <span class="token function">Log</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> <span class="token string">"com.example.app"</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token string">"ui"</span><span class="token punctuation">)</span>
log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"Button tapped"</span><span class="token punctuation">)</span>
log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Failed to load image"</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>Note: This class is designed to be used as the primary logging interface throughout the application.</li>
</ul>
</blockquote>
<h4 id="init-7">init</h4>
<p>Initializes a logger for a specific subsystem and category, enabling fine-grained log filtering.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer creates a logger instance configured for a specific subsystem<br>
and category, allowing for organized and filterable log output.</p>
<ul>
<li>Parameters:</li>
<li>subsystem: The subsystem identifier, typically the app bundle identifier.</li>
<li>category: The category for grouping related log messages.</li>
</ul>
</blockquote>
<h4 id="init-8">init</h4>
<p>Creates a logger for logging to the default subsystem and category.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer creates a logger instance with default settings,<br>
suitable for general application logging.</p>
</blockquote>
<h4 id="init-9">init</h4>
<p>Initializes a logger with a specific OSLog object, allowing for custom log destinations.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> logObj<span class="token punctuation">:</span> <span class="token builtin">OSLog</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer allows for custom log destinations by providing<br>
a specific OSLog object.</p>
<ul>
<li>Parameter logObj: An OSLog object specifying the log destination.</li>
</ul>
</blockquote>
<h4 id="log-1">log</h4>
<p>Logs a message at the default log level.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This method logs a message using the default logging level,<br>
which is typically info level.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="log-2">log</h4>
<p>Logs a message at a specified log level.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span>level<span class="token punctuation">:</span> <span class="token builtin">OSLogType</span><span class="token punctuation">,</span> <span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This method allows logging with a specific OSLogType level,<br>
providing fine-grained control over log severity.</p>
<ul>
<li>Parameters:</li>
<li>level: The OSLogType specifying the severity of the log message.</li>
<li>message: The message to log.</li>
</ul>
</blockquote>
<h4 id="trace">trace</h4>
<p>Logs a message at the trace level, used for highly detailed diagnostic information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Trace level logging is used for the most detailed diagnostic information,<br>
typically only needed during development and debugging.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="debug">debug</h4>
<p>Logs a message at the debug level, used for debugging information during development.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Debug level logging is used for debugging information that helps<br>
developers understand the application flow.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="info">info</h4>
<p>Logs a message at the info level, used for general informational messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Info level logging is used for general informational messages<br>
about the application’s operation.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="notice">notice</h4>
<p>Logs a message at the notice level, used for important but non-critical messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">notice</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Notice level logging is used for important messages that are not<br>
critical but deserve attention.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="warning">warning</h4>
<p>Logs a message at the warning level, used for potentially problematic situations.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">warning</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Warning level logging is used for situations that might be problematic<br>
but don’t prevent the application from functioning.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="error">error</h4>
<p>Logs a message at the error level, used for error events that might still allow the application to continue running.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Error level logging is used for error events that might still allow<br>
the application to continue running.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="critical">critical</h4>
<p>Logs a message at the critical level, used for serious errors that require immediate attention.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">critical</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Critical level logging is used for serious errors that require<br>
immediate attention and may affect application stability.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="fault">fault</h4>
<p>Logs a message at the fault level, used for system-level or unrecoverable errors.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">fault</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Fault level logging is used for system-level or unrecoverable errors<br>
that may cause the application to crash or become unstable.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h2 id="loggerimpl">LoggerImpl</h2>
<p>LoggerImpl is a concrete implementation of the LoggerProtocol, leveraging the Unified Logging System (os.log)</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoggerImpl</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">LoggerProtocol</span>
</code></pre>
<blockquote>
<p>introduced in iOS 14.0 and later. This class provides a robust, type-safe, and performant logging solution for<br>
iOS applications, enabling developers to log messages at various severity levels and to different subsystems and categories.<br>
LoggerImpl wraps the native <code>Logger</code> API, providing convenience initializers and methods for logging messages at<br>
different levels, such as trace, debug, info, notice, warning, error, critical, and fault. It is designed to be used<br>
directly or via the <code>Log</code> facade, and can be customized for different logging contexts by specifying subsystem and category.</p>
<h4 id="responsibilities-10">Responsibilities:</h4>
<ul>
<li>Implement the LoggerProtocol interface using Unified Logging System</li>
<li>Provide concrete logging functionality for iOS 14.0+</li>
<li>Support subsystem and category-based logging organization</li>
<li>Handle all standard log levels with appropriate OSLogType mapping</li>
<li>Ensure type-safe and performant logging operations</li>
</ul>
<h4 id="usage-example-10">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> logger <span class="token operator">=</span> <span class="token function">LoggerImpl</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> <span class="token string">"com.example.app"</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token string">"network"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Network request started"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Failed to fetch data"</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>Note: This class is only available on iOS 14.0 and later.</li>
</ul>
</blockquote>
<h4 id="init-10">init</h4>
<p>Initializes a logger with default settings, using the default subsystem and category.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">required</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer creates a logger instance with default system settings,<br>
suitable for general application logging.</p>
</blockquote>
<h4 id="init-11">init</h4>
<p>Initializes a logger with a specific OSLog object, allowing for custom log destinations.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> logObj<span class="token punctuation">:</span> <span class="token builtin">OSLog</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer allows for custom log destinations by providing<br>
a specific OSLog object from the Unified Logging System.</p>
<ul>
<li>Parameter logObj: An OSLog object specifying the log destination.</li>
</ul>
</blockquote>
<h4 id="init-12">init</h4>
<p>Initializes a logger with a specific subsystem and category for log filtering and organization.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">required</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer creates a logger instance configured for a specific subsystem<br>
and category, enabling organized and filterable log output.</p>
<ul>
<li>Parameters:</li>
<li>subsystem: The subsystem identifier, typically the app bundle identifier.</li>
<li>category: The category for grouping related log messages.</li>
</ul>
</blockquote>
<h4 id="log-3">log</h4>
<p>Logs a message at the default log level.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This method logs a message using the default logging level,<br>
which is typically info level in the Unified Logging System.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="log-4">log</h4>
<p>Logs a message at a specified log level.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span>level<span class="token punctuation">:</span> <span class="token builtin">OSLogType</span><span class="token punctuation">,</span> <span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This method allows logging with a specific OSLogType level,<br>
providing fine-grained control over log severity.</p>
<ul>
<li>Parameters:</li>
<li>level: The OSLogType specifying the severity of the log message.</li>
<li>message: The message to log.</li>
</ul>
</blockquote>
<h4 id="trace-1">trace</h4>
<p>Logs a message at the trace level, used for highly detailed diagnostic information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Trace level logging is used for the most detailed diagnostic information,<br>
typically only needed during development and debugging.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="debug-1">debug</h4>
<p>Logs a message at the debug level, used for debugging information during development.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Debug level logging is used for debugging information that helps<br>
developers understand the application flow.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="info-1">info</h4>
<p>Logs a message at the info level, used for general informational messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Info level logging is used for general informational messages<br>
about the application’s operation.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="notice-1">notice</h4>
<p>Logs a message at the notice level, used for important but non-critical messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">notice</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Notice level logging is used for important messages that are not<br>
critical but deserve attention.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="warning-1">warning</h4>
<p>Logs a message at the warning level, used for potentially problematic situations.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">warning</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Warning level logging is used for situations that might be problematic<br>
but don’t prevent the application from functioning.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="error-1">error</h4>
<p>Logs a message at the error level, used for error events that might still allow the application to continue running.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Error level logging is used for error events that might still allow<br>
the application to continue running.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="critical-1">critical</h4>
<p>Logs a message at the critical level, used for serious errors that require immediate attention.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">critical</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Critical level logging is used for serious errors that require<br>
immediate attention and may affect application stability.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="fault-1">fault</h4>
<p>Logs a message at the fault level, used for system-level or unrecoverable errors.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">fault</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Fault level logging is used for system-level or unrecoverable errors<br>
that may cause the application to crash or become unstable.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h2 id="loggerprotocol">LoggerProtocol</h2>
<p>LoggerProtocol defines a standard interface for logging functionality within the application.</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> protocol <span class="token builtin">LoggerProtocol</span>
</code></pre>
<blockquote>
<p>This protocol abstracts the logging mechanism, allowing for different implementations (such as system loggers or custom loggers)<br>
to be used interchangeably throughout the codebase. It provides a comprehensive set of logging methods, each corresponding to a<br>
different log level or severity, enabling fine-grained control over log output and categorization.<br>
Conforming types are expected to provide initializers for default and subsystem/category-based logging, and to implement all<br>
log level methods. This protocol is designed to be used in conjunction with the <code>Log</code> class, which<br>
provides the primary public interface for logging within the application. Internal implementations, such as <code>LoggerImpl</code>,<br>
are not intended for direct use outside the module.</p>
<h4 id="responsibilities-11">Responsibilities:</h4>
<ul>
<li>Define a standard logging interface across the application</li>
<li>Support multiple logging implementations and contexts</li>
<li>Provide comprehensive log level coverage</li>
<li>Enable interchangeable logger implementations</li>
<li>Ensure consistent logging API throughout the codebase</li>
</ul>
<h4 id="usage-example-11">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> logger<span class="token punctuation">:</span> <span class="token builtin">LoggerProtocol</span> <span class="token operator">=</span> <span class="token function">Log</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> <span class="token string">"com.example.app"</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token string">"network"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Network request started"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Failed to fetch data"</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="log-5">log</h4>
<p>Initializes a logger with default settings.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer creates a logger instance with default system settings,<br>
suitable for general application logging.<br>
Initializes a logger with a specific subsystem and category for log filtering and organization.<br>
This initializer creates a logger instance configured for a specific subsystem<br>
and category, enabling organized and filterable log output.</p>
<ul>
<li>Parameters:</li>
<li>subsystem: The subsystem identifier, typically the app bundle identifier.</li>
<li>category: The category for grouping related log messages.<br>
Logs a message at the default log level.<br>
This method logs a message using the default logging level,<br>
which is typically info level.</li>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="trace-2">trace</h4>
<p>Logs a message at the trace level, used for highly detailed diagnostic information.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Trace level logging is used for the most detailed diagnostic information,<br>
typically only needed during development and debugging.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="debug-2">debug</h4>
<p>Logs a message at the debug level, used for debugging information during development.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Debug level logging is used for debugging information that helps<br>
developers understand the application flow.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="info-2">info</h4>
<p>Logs a message at the info level, used for general informational messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Info level logging is used for general informational messages<br>
about the application’s operation.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="notice-2">notice</h4>
<p>Logs a message at the notice level, used for important but non-critical messages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">notice</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Notice level logging is used for important messages that are not<br>
critical but deserve attention.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="warning-2">warning</h4>
<p>Logs a message at the warning level, used for potentially problematic situations.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">warning</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Warning level logging is used for situations that might be problematic<br>
but don’t prevent the application from functioning.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="error-2">error</h4>
<p>Logs a message at the error level, used for error events that might still allow the application to continue running.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Error level logging is used for error events that might still allow<br>
the application to continue running.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="critical-2">critical</h4>
<p>Logs a message at the critical level, used for serious errors that require immediate attention.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">critical</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Critical level logging is used for serious errors that require<br>
immediate attention and may affect application stability.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h4 id="fault-2">fault</h4>
<p>Logs a message at the fault level, used for system-level or unrecoverable errors.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">func</span> <span class="token function">fault</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>Fault level logging is used for system-level or unrecoverable errors<br>
that may cause the application to crash or become unstable.</p>
<ul>
<li>Parameter message: The message to log.</li>
</ul>
</blockquote>
<h2 id="microphonepermission">MicrophonePermission</h2>
<p>Handles microphone permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">MicrophonePermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing microphone permissions<br>
by extending the <code>Permission</code> base class. It handles all microphone-specific<br>
permission logic including status checking and permission requests using AVFAudio.</p>
<h4 id="responsibilities-12">Responsibilities:</h4>
<ul>
<li>Manages microphone permission status using AVFAudio</li>
<li>Handles microphone permission requests with async/await and legacy callback support</li>
<li>Provides microphone-specific Info.plist key validation</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-12">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> microphonePermission <span class="token operator">=</span> <span class="token function">MicrophonePermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
microphonePermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Microphone access granted</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Microphone access denied</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-13">init</h4>
<p>Initializes a new microphone permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of MicrophonePermission with the microphone permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-6">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for microphone access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request microphone permission. The value should explain why the app<br>
needs microphone access.</p>
<ul>
<li>Returns: The Info.plist key “NSMicrophoneUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-7">status</h4>
<p>Returns the current microphone permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current microphone authorization status using AVFAudio.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current microphone permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-7">onRequest</h4>
<p>Requests microphone permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the microphone permission request using AVFAudio’s<br>
async/await API on iOS 17+ or the legacy callback for earlier versions.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="motionpermission">MotionPermission</h2>
<p>Handles motion activity permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">MotionPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing motion activity permissions<br>
by extending the <code>Permission</code> base class. It handles all motion-specific<br>
permission logic including status checking and permission requests using CoreMotion.</p>
<h4 id="responsibilities-13">Responsibilities:</h4>
<ul>
<li>Manages motion activity permission status using CoreMotion</li>
<li>Handles motion activity permission requests with async callback</li>
<li>Provides motion-specific Info.plist key validation</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-13">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> motionPermission <span class="token operator">=</span> <span class="token function">MotionPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
motionPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Motion activity access granted</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Motion activity access denied</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-14">init</h4>
<p>Initializes a new motion permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of MotionPermission with the motion permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-7">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for motion activity access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request motion activity permission. The value should explain why the app<br>
needs motion activity access.</p>
<ul>
<li>Returns: The Info.plist key “NSMotionUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-8">status</h4>
<p>Returns the current motion activity permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current motion activity authorization status using CoreMotion.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current motion activity permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-8">onRequest</h4>
<p>Requests motion activity permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the motion activity permission request using CoreMotion’s<br>
queryActivityStarting API. It presents the system permission dialog to the user<br>
and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="notificationspermission">NotificationsPermission</h2>
<p>Handles notifications permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">NotificationsPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing notifications permissions<br>
by extending the <code>Permission</code> base class. It handles all notifications-specific<br>
permission logic including status checking and permission requests using the UserNotifications framework.</p>
<h4 id="responsibilities-14">Responsibilities:</h4>
<ul>
<li>Manages notifications permission status using the UserNotifications framework</li>
<li>Handles notifications permission requests with async/await support</li>
<li>Provides notifications-specific Info.plist key validation</li>
<li>Supports provisional and ephemeral authorization states</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-14">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> notificationsPermission <span class="token operator">=</span> <span class="token function">NotificationsPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
notificationsPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Notifications access granted</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Notifications access denied</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-15">init</h4>
<p>Initializes a new notifications permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of NotificationsPermission with the notifications permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="options">options</h4>
<p>The notification authorization options to request.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">var</span> options<span class="token punctuation">:</span> <span class="token builtin">UNAuthorizationOptions</span>
</code></pre>
<p>This property specifies which notification types the app wants to request permission for.<br>
The default includes alerts, badges, and sounds.</p>
<ul>
<li>Returns: The UNAuthorizationOptions for notification permissions</li>
</ul>
</blockquote>
<h4 id="isrequiredusagedescriptionkey-1">isRequiredUsageDescriptionKey</h4>
<p>Indicates that a usage description key is not required for notifications.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> isRequiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>Notifications do not require an Info.plist usage description key since they<br>
are requested through the UserNotifications framework.</p>
<ul>
<li>Returns: <code>false</code> indicating no Info.plist key is required</li>
</ul>
</blockquote>
<h4 id="status-9">status</h4>
<p>Returns the current notifications permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current notifications authorization status using the UserNotifications framework.<br>
Note: This method blocks the calling thread and must not be called on the main thread.</p>
<ul>
<li>Warning: This method blocks the calling thread and must not be called on the main thread.</li>
<li>Returns: A <code>PermissionStatus</code> value representing the current notifications permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-9">onRequest</h4>
<p>Requests notifications permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the notifications permission request using the UserNotifications framework’s<br>
async/await API. It presents the system permission dialog to the user<br>
and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="permission">Permission</h2>
<p>An abstract base class for all permission types.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">Permission</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permissionable</span>
</code></pre>
<blockquote>
<p>This class serves as the foundation for implementing specific permission<br>
handlers. It provides common functionality for requesting and checking<br>
permissions while enforcing the Permissionable protocol requirements.<br>
Subclasses should override the abstract methods to provide permission-specific<br>
implementations.</p>
<h4 id="responsibilities-15">Responsibilities:</h4>
<ul>
<li>Implements the Permissionable protocol</li>
<li>Provides common permission request logic with Info.plist validation</li>
<li>Handles error cases and logging</li>
<li>Manages permission status checking</li>
<li>Provides convenience methods for authorization checks</li>
</ul>
<h4 id="design-pattern">Design Pattern:</h4>
<p>This class follows the Template Method pattern, where the base class<br>
defines the overall structure of permission requests while subclasses<br>
provide specific implementations for different permission types.</p>
<h4 id="usage-example-15">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">class</span> <span class="token class-name">CameraPermission</span><span class="token punctuation">:</span> <span class="token builtin">Permission</span> <span class="token punctuation">{</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>camera<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">PermissionStatus</span> <span class="token punctuation">{</span>
        <span class="token comment">// Camera-specific status implementation</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Camera-specific request implementation</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="thread-safety">Thread Safety:</h4>
<p>The class is designed to be thread-safe and supports modern Swift<br>
concurrency features. Permission requests are handled asynchronously<br>
and completion handlers are called on the main thread.</p>
</blockquote>
<h4 id="type">type</h4>
<p>The type of permission this handler manages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">var</span> type<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>This property identifies the specific permission category that this<br>
handler is responsible for managing. The type is set during initialization<br>
and is used throughout the permission management process for logging<br>
and error reporting.</p>
</blockquote>
<h4 id="status-10">status</h4>
<p>Returns the current status of the permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the system to determine the current authorization<br>
state of the permission. Subclasses must override this method to<br>
provide permission-specific status checking logic.<br>
@return A PermissionStatus enum value representing the current state</p>
</blockquote>
<h4 id="onrequest-10">onRequest</h4>
<p>Requests the permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the permission request flow, which typically<br>
involves showing a system dialog to the user asking for permission.<br>
Subclasses must override this method to provide permission-specific<br>
request logic.<br>
@param completion A closure that is called when the permission request<br>
completes, either with a success result containing the new status,<br>
or a failure result containing an error.</p>
</blockquote>
<h4 id="request">request</h4>
<p>Requests the permission, handling Info.plist key checks and errors.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">request</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This is the main public interface for requesting permissions. It performs<br>
validation checks before initiating the actual permission request,<br>
including verifying that required Info.plist usage description keys<br>
are present.<br>
@param completion A closure that is called when the permission request<br>
completes, either with a success result containing the new status,<br>
or a failure result containing an error.</p>
</blockquote>
<h4 id="isauthorized">isAuthorized</h4>
<p>Returns true if the permission is currently authorized.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">isAuthorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span>
</code></pre>
<p>@return true if the permission status is .authorized, false otherwise</p>
</blockquote>
<h4 id="ispermanentlydenied">isPermanentlyDenied</h4>
<p>Returns true if the user has permanently denied the permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">isPermanentlyDenied</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span>
</code></pre>
<p>@return true if the permission status is .denied, false otherwise</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-8">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for this permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return A string representing the required Info.plist key, or nil if not required</p>
</blockquote>
<h4 id="isrequiredusagedescriptionkey-2">isRequiredUsageDescriptionKey</h4>
<p>Indicates whether a usage description key is required in Info.plist.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">var</span> isRequiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>@return true if a usage description key is required, false otherwise</p>
</blockquote>
<h2 id="permissionerror">PermissionError</h2>
<p>Represents errors that can occur during permission requests or checks.</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token builtin">PermissionError</span> <span class="token punctuation">:</span> <span class="token builtin">Error</span><span class="token punctuation">,</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Sendable</span>
</code></pre>
<blockquote>
<p>This enum provides a standardized way to handle permission-related errors<br>
across all permission types. It includes common error scenarios such as<br>
missing Info.plist keys and generic failures.</p>
<h4 id="responsibilities-16">Responsibilities:</h4>
<ul>
<li>Define permission-specific error types</li>
<li>Provide user-friendly error descriptions</li>
<li>Support error handling and debugging</li>
<li>Enable consistent error reporting</li>
</ul>
<h4 id="usage-example-16">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token function">requestPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token keyword">let</span> error <span class="token keyword">as</span> <span class="token builtin">PermissionError</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> error <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">missingUsageDescription</span><span class="token punctuation">(</span><span class="token keyword">let</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Missing Info.plist key: <span class="token interpolation"><span class="token delimiter variable">\(</span>key<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> underlyingError<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Permission request failed: <span class="token interpolation"><span class="token delimiter variable">\(</span>underlyingError<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="missingusagedescription">missingUsageDescription</h4>
<p>The required Info.plist usage description key is missing.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> <span class="token function">missingUsageDescription</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This error occurs when the app tries to request a permission that requires<br>
an Info.plist usage description key, but the key is not present in the<br>
app’s Info.plist file.</p>
<ul>
<li>Parameter key: The missing Info.plist key that is required for this permission.</li>
</ul>
</blockquote>
<h4 id="failure">failure</h4>
<p>A generic failure occurred, with the underlying error provided.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> <span class="token function">failure</span><span class="token punctuation">(</span>error<span class="token punctuation">:</span> any <span class="token builtin">Error</span><span class="token punctuation">)</span>
</code></pre>
<p>This error occurs when a permission request fails for reasons other than<br>
missing Info.plist keys. The underlying error provides additional details<br>
about what went wrong.</p>
<ul>
<li>Parameter error: The underlying error that caused the permission request to fail.</li>
</ul>
</blockquote>
<h4 id="description">description</h4>
<p>A textual description of the error, suitable for debugging and display.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property provides a human-readable description of the error that can<br>
be used for logging, debugging, or displaying to users.</p>
<ul>
<li>Returns: A string describing the error and its context</li>
</ul>
</blockquote>
<h2 id="permissionmanager">PermissionManager</h2>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">PermissionManager</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span>
<span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionManagerProtocol</span>
</code></pre>
<h4 id="shared-1">shared</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> shared<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionManager</span>
</code></pre>
</blockquote>
<h4 id="requestsequentially">requestSequentially</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">requestSequentially</span><span class="token punctuation">(</span><span class="token number">_</span> permissions<span class="token punctuation">:</span> <span class="token punctuation">[</span>any
<span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permissionable</span><span class="token punctuation">]</span><span class="token punctuation">,</span> completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token number">_</span> index<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> permission<span class="token punctuation">:</span>
any <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permissionable</span><span class="token punctuation">,</span> <span class="token number">_</span> result<span class="token punctuation">:</span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span>
<span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="requestsequentially-1">requestSequentially</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">requestSequentially</span><span class="token punctuation">(</span><span class="token number">_</span> permissions<span class="token punctuation">:</span> any
<span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permissionable</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token number">_</span> index<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> permission<span class="token punctuation">:</span>
any <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permissionable</span><span class="token punctuation">,</span> <span class="token number">_</span> result<span class="token punctuation">:</span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span>
<span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h2 id="permissionmanagerprotocol">PermissionManagerProtocol</h2>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> protocol <span class="token builtin">PermissionManagerProtocol</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span>
</code></pre>
<h2 id="permissionstatus">PermissionStatus</h2>
<p>Represents the unified status for all permission types across iOS platforms.</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token builtin">PermissionStatus</span> <span class="token punctuation">:</span> <span class="token builtin">Sendable</span>
</code></pre>
<blockquote>
<p>This enum provides a comprehensive representation of all possible authorization<br>
states that permissions can have on iOS devices. It serves as a unified interface<br>
for handling different permission states consistently across all permission types,<br>
including camera, microphone, location, notifications, and more.</p>
<h4 id="responsibilities-17">Responsibilities</h4>
<ul>
<li>Define all possible permission authorization states</li>
<li>Provide clear state categorization and classification</li>
<li>Enable consistent state handling across different permission types</li>
<li>Support user-friendly state descriptions and messaging</li>
<li>Facilitate permission flow management and UI updates</li>
<li>Handle platform-specific permission states (iOS 14+ features)</li>
</ul>
<h4 id="design-patterns-2">Design Patterns</h4>
<ul>
<li>State Pattern: Represents different authorization states as enum cases</li>
<li>Unified Interface: Provides consistent API across all permission types</li>
<li>Value Object: Immutable representation of permission state</li>
<li>Sendable: Thread-safe for concurrent access</li>
</ul>
<h4 id="usage-example-17">Usage Example</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> cameraPermission <span class="token operator">=</span> <span class="token function">CameraPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> status <span class="token operator">=</span> cameraPermission<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">switch</span> status <span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>notDetermined<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera permission not yet requested"</span><span class="token punctuation">)</span>
    cameraPermission<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera access granted - proceed with camera functionality"</span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera access denied - show settings prompt"</span><span class="token punctuation">)</span>
    <span class="token function">showSettingsAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>restricted<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera access restricted by system - show explanation"</span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>limited<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera access limited - handle limited access scenario"</span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>unknown<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera status unknown - handle gracefully"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="key-features-1">Key Features</h4>
<ul>
<li>Comprehensive state coverage for all iOS permission types</li>
<li>Support for iOS 14+ features (limited access, provisional grants)</li>
<li>Thread-safe with Sendable conformance</li>
<li>Clear state categorization for UI and business logic</li>
<li>Extensible design for future permission states</li>
</ul>
<h4 id="platform-support-1">Platform Support</h4>
<ul>
<li>iOS 14+: Full support for limited access and provisional states</li>
<li>iOS 13 and earlier: Basic permission states supported</li>
<li>App Clips: Support for ephemeral permission states</li>
</ul>
</blockquote>
<h4 id="notdetermined">notDetermined</h4>
<p>The user has not yet made a choice regarding this permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> notDetermined
</code></pre>
<p>This is the initial state for permissions that have never been requested.<br>
The app should request permission when encountering this state.<br>
@return Initial permission state requiring user decision</p>
</blockquote>
<h4 id="authorized">authorized</h4>
<p>The permission is granted and authorized for use.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> authorized
</code></pre>
<p>The user has explicitly granted permission and the app can use<br>
the requested functionality without restrictions.<br>
@return Fully authorized permission state</p>
</blockquote>
<h4 id="denied">denied</h4>
<p>The permission is denied by the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> denied
</code></pre>
<p>The user has explicitly denied permission. The app should guide<br>
users to Settings to change this decision.<br>
@return User-denied permission state</p>
</blockquote>
<h4 id="restricted">restricted</h4>
<p>The permission is restricted by system policies.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> restricted
</code></pre>
<p>Permission is restricted due to parental controls, MDM policies,<br>
or other system-level restrictions. The app cannot override this.<br>
@return System-restricted permission state</p>
</blockquote>
<h4 id="limited">limited</h4>
<p>The permission is granted with limited access (iOS 14+).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> limited
</code></pre>
<p>User has granted limited access to resources like Photos.<br>
The app should handle the limited access scenario appropriately.<br>
@return Limited access permission state</p>
</blockquote>
<h4 id="provisional">provisional</h4>
<p>The permission is provisionally granted (e.g., Notifications).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> provisional
</code></pre>
<p>Permission is granted temporarily or with restrictions.<br>
Common for notification permissions with provisional authorization.<br>
@return Provisionally granted permission state</p>
</blockquote>
<h4 id="ephemeral">ephemeral</h4>
<p>The permission is granted for ephemeral use (App Clips).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> ephemeral
</code></pre>
<p>Permission is granted temporarily for App Clips or similar<br>
temporary app experiences.<br>
@return Ephemeral permission state</p>
</blockquote>
<h4 id="fullaccess">fullAccess</h4>
<p>The permission is granted with full access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> fullAccess
</code></pre>
<p>User has granted complete access to the requested resource.<br>
Used for scenarios where limited access is not applicable.<br>
@return Full access permission state</p>
</blockquote>
<h4 id="writeonly">writeOnly</h4>
<p>The permission is granted for write-only access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> writeOnly
</code></pre>
<p>User has granted permission to write data but not read.<br>
Common for certain file system or data access scenarios.<br>
@return Write-only permission state</p>
</blockquote>
<h4 id="poweredoff">poweredOff</h4>
<p>The permission is unavailable because hardware is powered off.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> poweredOff
</code></pre>
<p>The required hardware (e.g., Bluetooth, WiFi) is currently<br>
powered off and unavailable for permission requests.<br>
@return Hardware powered off state</p>
</blockquote>
<h4 id="resetting">resetting</h4>
<p>The permission is unavailable because hardware is resetting.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> resetting
</code></pre>
<p>The required hardware is currently resetting and temporarily<br>
unavailable for permission requests.<br>
@return Hardware resetting state</p>
</blockquote>
<h4 id="unsupported">unsupported</h4>
<p>The permission is not supported on this device.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> unsupported
</code></pre>
<p>The requested permission type is not available on the current<br>
device or platform version.<br>
@return Unsupported permission state</p>
</blockquote>
<h4 id="unknown">unknown</h4>
<p>The permission status is unknown or could not be determined.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">case</span> unknown
</code></pre>
<p>The system could not determine the current permission state.<br>
The app should handle this gracefully and potentially re-request.<br>
@return Unknown permission state</p>
</blockquote>
<h2 id="permissiontype">PermissionType</h2>
<p>Represents a category of supported permission types (e.g., camera, location, etc.).</p>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token builtin">PermissionType</span> <span class="token punctuation">:</span> <span class="token builtin">RawRepresentable</span><span class="token punctuation">,</span> <span class="token builtin">Equatable</span><span class="token punctuation">,</span> <span class="token builtin">Hashable</span><span class="token punctuation">,</span> <span class="token builtin">Sendable</span>
</code></pre>
<blockquote>
<p>This struct provides a type-safe way to identify different permission categories<br>
across the permission management system. It uses a raw string value for flexibility<br>
while maintaining type safety through the struct wrapper.</p>
<h4 id="responsibilities-18">Responsibilities:</h4>
<ul>
<li>Define permission type identifiers</li>
<li>Provide type-safe permission categorization</li>
<li>Support equality and hashing operations</li>
<li>Enable permission type comparison and storage</li>
</ul>
<h4 id="usage-example-18">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> cameraType <span class="token operator">=</span> <span class="token builtin">PermissionType</span><span class="token punctuation">.</span>camera
<span class="token keyword">let</span> locationType <span class="token operator">=</span> <span class="token builtin">PermissionType</span><span class="token punctuation">.</span>locationWhenInUse
<span class="token keyword">if</span> cameraType <span class="token operator">==</span> <span class="token punctuation">.</span>camera <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"This is a camera permission"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="rawvalue">rawValue</h4>
<p>The raw string value of the permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">let</span> rawValue<span class="token punctuation">:</span> <span class="token builtin">String</span>
</code></pre>
<p>This property holds the underlying string identifier for the permission type.<br>
It provides the flexibility of string-based identification while maintaining<br>
type safety through the struct wrapper.</p>
<ul>
<li>Returns: The string identifier for this permission type</li>
</ul>
</blockquote>
<h4 id="init-16">init</h4>
<p>Creates a new permission type with the given raw value.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span>rawValue<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
</code></pre>
<p>This initializer allows creating custom permission types with specific<br>
string identifiers. It’s primarily used for predefined permission types<br>
in the extension below.</p>
<ul>
<li>Parameter rawValue: The string identifier for the permission type.</li>
</ul>
</blockquote>
<h2 id="permissiontype-extension">PermissionType <code>Extension</code></h2>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">extension</span> <span class="token builtin">PermissionType</span>
</code></pre>
<h4 id="camera">camera</h4>
<p>Camera permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> camera<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access the device’s camera for photo and video capture.</p>
<ul>
<li>Returns: A PermissionType for camera access</li>
</ul>
</blockquote>
<h4 id="photos">photos</h4>
<p>Photos permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> photos<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access the device’s photo library for reading and writing photos.</p>
<ul>
<li>Returns: A PermissionType for photo library access</li>
</ul>
</blockquote>
<h4 id="locationwheninuse">locationWhenInUse</h4>
<p>Location When In Use permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> locationWhenInUse<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access location services while the app is actively in use.</p>
<ul>
<li>Returns: A PermissionType for location access when app is in use</li>
</ul>
</blockquote>
<h4 id="locationalways">locationAlways</h4>
<p>Location Always permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> locationAlways<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access location services even when the app is in the background.</p>
<ul>
<li>Returns: A PermissionType for continuous location access</li>
</ul>
</blockquote>
<h4 id="bluetooth">bluetooth</h4>
<p>Bluetooth permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> bluetooth<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access Bluetooth functionality for device connectivity.</p>
<ul>
<li>Returns: A PermissionType for Bluetooth access</li>
</ul>
</blockquote>
<h4 id="microphone">microphone</h4>
<p>Microphone permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> microphone<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access the device’s microphone for audio recording.</p>
<ul>
<li>Returns: A PermissionType for microphone access</li>
</ul>
</blockquote>
<h4 id="notifications">notifications</h4>
<p>Notifications permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> notifications<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to send local and remote notifications to the user.</p>
<ul>
<li>Returns: A PermissionType for notification access</li>
</ul>
</blockquote>
<h4 id="backgroundrefresh">backgroundRefresh</h4>
<p>Background Refresh permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> backgroundRefresh<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission for the app to refresh content in the background.</p>
<ul>
<li>Returns: A PermissionType for background refresh access</li>
</ul>
</blockquote>
<h4 id="motion">motion</h4>
<p>Motion permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> motion<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access motion and fitness activity data.</p>
<ul>
<li>Returns: A PermissionType for motion activity access</li>
</ul>
</blockquote>
<h4 id="speechrecognition">speechRecognition</h4>
<p>Speech Recognition permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> speechRecognition<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access speech recognition functionality.</p>
<ul>
<li>Returns: A PermissionType for speech recognition access</li>
</ul>
</blockquote>
<h4 id="faceid">faceID</h4>
<p>Face ID permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> faceID<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access Face ID biometric authentication.</p>
<ul>
<li>Returns: A PermissionType for Face ID access</li>
</ul>
</blockquote>
<h4 id="contacts">contacts</h4>
<p>Contacts permission type.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">let</span> contacts<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span>
</code></pre>
<p>Represents permission to access the device’s contacts database.</p>
<ul>
<li>Returns: A PermissionType for contacts access</li>
</ul>
</blockquote>
<h2 id="permissionable">Permissionable</h2>
<p>A protocol that defines the interface for all permission handler classes.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> @preconcurrency <span class="token keyword">public</span> protocol <span class="token builtin">Permissionable</span> <span class="token punctuation">:</span> <span class="token builtin">NSObject</span>
</code></pre>
<blockquote>
<p>The <code>Permissionable</code> protocol serves as the foundation for implementing permission management<br>
across iOS applications. It provides a standardized interface for checking, requesting, and<br>
managing various system permissions such as camera, location, contacts, and more.</p>
<h4 id="responsibilities-and-design-pattern">Responsibilities and Design Pattern</h4>
<p>This protocol follows the Strategy Pattern and Template Method Pattern:</p>
<ul>
<li>Strategy Pattern: Each permission type implements its own strategy for handling<br>
permission requests and status checks</li>
<li>Template Method Pattern: The protocol defines the skeleton of permission operations<br>
while allowing subclasses to override specific steps</li>
</ul>
<h4 id="safe-implementation-pattern">Safe Implementation Pattern</h4>
<p>For safe and consistent permission handling, it’s recommended to subclass the <code>Permission</code> base class<br>
rather than implementing <code>Permissionable</code> directly. The <code>Permission</code> class provides:</p>
<ul>
<li>Built-in Info.plist validation</li>
<li>Common error handling and logging</li>
<li>Thread-safe permission requests</li>
<li>Default implementations for common operations</li>
</ul>
<h4 id="usage-example-19">Usage Example</h4>
<h5 id="recommended-using-permission-base-class">Recommended: Using Permission Base Class</h5>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">class</span> <span class="token class-name">CameraPermission</span><span class="token punctuation">:</span> <span class="token builtin">Permission</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>camera<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    open <span class="token keyword">override</span> <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token string">"NSCameraUsageDescription"</span> <span class="token punctuation">}</span>
    open <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">PermissionStatus</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token builtin">AVCaptureDevice</span><span class="token punctuation">.</span><span class="token function">authorizationStatus</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>video<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>authorized<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>authorized
        <span class="token keyword">case</span> <span class="token punctuation">.</span>denied<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>denied
        <span class="token keyword">case</span> <span class="token punctuation">.</span>restricted<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>restricted
        <span class="token keyword">case</span> <span class="token punctuation">.</span>notDetermined<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>notDetermined
        @unknown <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>unknown
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    open <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">Task</span> <span class="token punctuation">{</span> @<span class="token builtin">MainActor</span> <span class="token keyword">in</span>
            <span class="token keyword">let</span> isGranted <span class="token operator">=</span> await <span class="token builtin">AVCaptureDevice</span><span class="token punctuation">.</span><span class="token function">requestAccess</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>video<span class="token punctuation">)</span>
            <span class="token function">completion</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>isGranted <span class="token operator">?</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">:</span> <span class="token punctuation">.</span>denied<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Usage</span>
<span class="token keyword">let</span> cameraPermission <span class="token operator">=</span> <span class="token function">CameraPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cameraPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera permission status: <span class="token interpolation"><span class="token delimiter variable">\(</span>status<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Camera permission error: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="alternative-direct-protocol-implementation">Alternative: Direct Protocol Implementation</h5>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">class</span> <span class="token class-name">CustomPermissionHandler</span><span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span> <span class="token builtin">Permissionable</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> type<span class="token punctuation">:</span> <span class="token builtin">PermissionType</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span>custom <span class="token punctuation">}</span>
    <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token string">"NSCustomUsageDescription"</span> <span class="token punctuation">}</span>
    <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">PermissionStatus</span> <span class="token punctuation">{</span>
        <span class="token comment">// Custom status implementation</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Custom request implementation</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implement other required methods...</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="key-features-2">Key Features</h4>
<ul>
<li>Type Safety: Each permission handler is associated with a specific <code>PermissionType</code></li>
<li>Info.plist Validation: Automatic validation of required usage description keys</li>
<li>Error Handling: Comprehensive error handling with <code>PermissionError</code> types</li>
<li>Status Management: Real-time permission status checking and management</li>
<li>Settings Integration: Built-in support for redirecting users to app settings</li>
<li>Main Actor Compliance: Ensures UI updates happen on the main thread</li>
<li>Concurrency Safety: Marked with <code>@preconcurrency</code> for future Swift concurrency support</li>
<li>Safe Base Class: The <code>Permission</code> class provides a safe foundation for implementations</li>
</ul>
</blockquote>
<h4 id="type-1">type</h4>
<p>The type of the permission this handler manages.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> type<span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionType</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property identifies the specific permission type (e.g., camera, location, contacts)<br>
that this permission handler is responsible for managing.</p>
<ul>
<li>Returns: The <code>PermissionType</code> enum value representing this permission</li>
</ul>
</blockquote>
<h4 id="status-11">status</h4>
<p>Returns the current status of the permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method checks the current authorization status of the permission<br>
without prompting the user. It should return the most up-to-date status<br>
from the system.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value indicating the current permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-11">onRequest</h4>
<p>Asks the user to grant the permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span> <span class="token punctuation">(</span><span class="token number">_</span> result<span class="token punctuation">:</span>
<span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method handles the actual permission request to the user. It should<br>
present the system permission dialog and handle the user’s response.<br>
This method is called internally by <code>request()</code> after validation checks.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h4 id="request-1">request</h4>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">request</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
</blockquote>
<h4 id="isauthorized-1">isAuthorized</h4>
<p>Returns true if the permission is currently authorized.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">isAuthorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span>
</code></pre>
<p>This method provides a convenient way to check if the permission<br>
has been granted by the user. It internally calls <code>status()</code> and<br>
compares the result with <code>.authorized</code>.</p>
<ul>
<li>Returns: <code>true</code> if the permission is authorized, <code>false</code> otherwise</li>
</ul>
</blockquote>
<h4 id="ispermanentlydenied-1">isPermanentlyDenied</h4>
<p>Returns true if the user has permanently denied the permission (requires settings change).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">isPermanentlyDenied</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span>
</code></pre>
<p>This method checks if the permission has been permanently denied by the user,<br>
which means the user has denied it and selected “Don’t Ask Again” or the<br>
permission is restricted by parental controls or MDM policies.</p>
<ul>
<li>Returns: <code>true</code> if the permission is permanently denied, <code>false</code> otherwise</li>
</ul>
</blockquote>
<h4 id="opensettings">openSettings</h4>
<p>Opens the app’s settings page for manual permission changes.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">func</span> <span class="token function">openSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>This method provides a way to direct users to the app’s settings page<br>
where they can manually change permission settings. This is typically<br>
used when permissions are permanently denied and require manual intervention.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-9">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for this permission, if any.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request this permission. The value associated with this key provides<br>
the user with information about why the app needs this permission.</p>
<ul>
<li>Returns: The Info.plist key string if required, <code>nil</code> if no key is needed</li>
</ul>
</blockquote>
<h4 id="isrequiredusagedescriptionkey-3">isRequiredUsageDescriptionKey</h4>
<p>Indicates whether a usage description key is required in Info.plist for this permission.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> isRequiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property determines if the permission requires a corresponding entry<br>
in the app’s Info.plist file. Most permissions require this, but some<br>
system-level permissions may not.</p>
<ul>
<li>Returns: <code>true</code> if an Info.plist key is required, <code>false</code> otherwise</li>
</ul>
</blockquote>
<h4 id="canrequestpermission">canRequestPermission</h4>
<p>Returns true if the permission can be requested (i.e., Info.plist key is present if required).</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">var</span> canRequestPermission<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property validates that all prerequisites for requesting the permission<br>
are met, including the presence of required Info.plist keys. It provides<br>
a safety check before attempting to request permissions.</p>
<ul>
<li>Returns: <code>true</code> if the permission can be requested, <code>false</code> otherwise</li>
</ul>
</blockquote>
<h2 id="permissionable-extension">Permissionable <code>Extension</code></h2>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">extension</span> <span class="token builtin">Permissionable</span>
</code></pre>
<h4 id="isrequiredusagedescriptionkey-4">isRequiredUsageDescriptionKey</h4>
<p>Default implementation: usage description key is required.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> isRequiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>By default, all permissions require a corresponding Info.plist key<br>
to be present before they can be requested from the user.</p>
<ul>
<li>Returns: <code>true</code> indicating that Info.plist keys are required by default</li>
</ul>
</blockquote>
<h4 id="canrequestpermission-1">canRequestPermission</h4>
<p>Default implementation: checks if Info.plist contains the required usage description key.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">var</span> canRequestPermission<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This implementation validates that the required Info.plist key is present<br>
in the app’s bundle. If the key is missing, it logs a critical error<br>
to help with debugging permission issues.</p>
<ul>
<li>Returns: <code>true</code> if the required Info.plist key is present, <code>false</code> otherwise</li>
</ul>
</blockquote>
<h4 id="opensettings-1">openSettings</h4>
<p>Default implementation: opens the app’s settings page.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">openSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>This implementation uses the system-provided URL to open the app’s<br>
settings page in the iOS Settings app, allowing users to manually<br>
change permission settings.</p>
</blockquote>
<h2 id="photospermission">PhotosPermission</h2>
<p>Handles photo library permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">PhotosPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing photo library permissions<br>
by extending the <code>Permission</code> base class. It handles all photo library-specific<br>
permission logic including status checking and permission requests using the Photos framework.</p>
<h4 id="responsibilities-19">Responsibilities:</h4>
<ul>
<li>Manages photo library permission status using the Photos framework</li>
<li>Handles photo library permission requests with async/await and legacy callback support</li>
<li>Provides photo library-specific Info.plist key validation</li>
<li>Supports limited access (iOS 14+)</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-20">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> photosPermission <span class="token operator">=</span> <span class="token function">PhotosPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
photosPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Photo library access granted (full or limited)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Photo library access denied</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-17">init</h4>
<p>Initializes a new photo library permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of PhotosPermission with the photos permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-10">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for photo library access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request photo library permission. The value should explain why the app<br>
needs photo library access.</p>
<ul>
<li>Returns: The Info.plist key “NSPhotoLibraryUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-12">status</h4>
<p>Returns the current photo library permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current photo library authorization status using the Photos framework.<br>
It supports both full and limited access (iOS 14+) and handles iOS version compatibility.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current photo library permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-12">onRequest</h4>
<p>Requests photo library permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the photo library permission request using the Photos framework’s<br>
async/await API on iOS 14+ or the legacy callback for earlier versions.<br>
It presents the system permission dialog to the user and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>
<h2 id="speechrecognitionpermission">SpeechRecognitionPermission</h2>
<p>Handles speech recognition permission requests and status checks.</p>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> open <span class="token keyword">class</span> <span class="token class-name">SpeechRecognitionPermission</span> <span class="token punctuation">:</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">Permission</span>
</code></pre>
<blockquote>
<p>This class provides a safe implementation for managing speech recognition permissions<br>
by extending the <code>Permission</code> base class. It handles all speech recognition-specific<br>
permission logic including status checking and permission requests using the Speech framework.</p>
<h4 id="responsibilities-20">Responsibilities:</h4>
<ul>
<li>Manages speech recognition permission status using the Speech framework</li>
<li>Handles speech recognition permission requests with async callback</li>
<li>Provides speech recognition-specific Info.plist key validation</li>
<li>Ensures thread-safe permission operations</li>
</ul>
<h4 id="usage-example-21">Usage Example:</h4>
<pre class=" language-swift"><code class="prism  language-swift"><span class="token keyword">let</span> speechPermission <span class="token operator">=</span> <span class="token function">SpeechRecognitionPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
speechPermission<span class="token punctuation">.</span>request <span class="token punctuation">{</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> status<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> status <span class="token operator">==</span> <span class="token punctuation">.</span>authorized <span class="token punctuation">{</span>
            <span class="token comment">// Speech recognition access granted</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Speech recognition access denied</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> error<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">// Handle permission error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h4 id="init-18">init</h4>
<p>Initializes a new speech recognition permission handler.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Creates a new instance of SpeechRecognitionPermission with the speechRecognition permission type.<br>
This initializer calls the parent class with the appropriate permission type.</p>
</blockquote>
<h4 id="requiredusagedescriptionkey-11">requiredUsageDescriptionKey</h4>
<p>The required Info.plist usage description key for speech recognition access.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">var</span> requiredUsageDescriptionKey<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
</code></pre>
<p>This property specifies the key that must be present in the app’s Info.plist<br>
file to request speech recognition permission. The value should explain why the app<br>
needs speech recognition access.</p>
<ul>
<li>Returns: The Info.plist key “NSSpeechRecognitionUsageDescription”</li>
</ul>
</blockquote>
<h4 id="status-13">status</h4>
<p>Returns the current speech recognition permission status.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span>
</code></pre>
<p>This method queries the current speech recognition authorization status using the Speech framework.</p>
<ul>
<li>Returns: A <code>PermissionStatus</code> value representing the current speech recognition permission state</li>
</ul>
</blockquote>
<h4 id="onrequest-13">onRequest</h4>
<p>Requests speech recognition permission from the user.</p>
<blockquote>
<pre class=" language-swift"><code class="prism  language-swift">@<span class="token builtin">MainActor</span> <span class="token keyword">override</span> open <span class="token keyword">func</span> <span class="token function">onRequest</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> @<span class="token function">escaping</span>
<span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionStatus</span><span class="token punctuation">,</span> <span class="token builtin">CommonCore</span><span class="token punctuation">.</span><span class="token builtin">PermissionError</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
</code></pre>
<p>This method initiates the speech recognition permission request using the Speech framework’s<br>
requestAuthorization API. It presents the system permission dialog to the user<br>
and handles the response asynchronously.</p>
<ul>
<li>Parameter completion: A closure that is called when the permission request completes.<br>
The closure receives a <code>Result</code> containing either the new <code>PermissionStatus</code> on success<br>
or a <code>PermissionError</code> on failure.</li>
</ul>
</blockquote>

    </div>
  </div>
</body>

</html>
